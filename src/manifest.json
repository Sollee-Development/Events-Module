{
    "conditions" : {
        "calendar" : ["(\\d{4})", "(1[0-2]|\\d)"],
        "event" : ["(\\d)"]
    },
    "GET" : {
        "defaultRoute" : "calendar",
        "calendar" : {
            "model" : {
                "instanceOf" : "Events\\Model\\Calendar"
            },
            "controller" : {
                "instanceOf" : "MVC\\Controller\\FilterFromUrl",
                "constructParams" : [
                    ["year", "month"]
                ]
            },
            "view" : {
                "instanceOf" : "Transphporm\\Builder",
                "constructParams" : ["Layouts/layout.xml", "{dir}/view/calendar.tss"]
            },
            "action" : "filter"
        },
        "upcoming" : {
            "model" : {
                "instanceOf" : "Events\\Model\\Events"
            },
            "controller" : { "instanceOf" : ["MVC\\Controller\\Filter"]},
            "view" : {
                "instanceOf" : "Transphporm\\Builder",
                "constructParams" : ["Layouts/layout.xml", "{dir}/view/upcoming_page.tss"]
            }
        },
        "event" : {
            "model" : {
                "instanceOf" : "Events\\Model\\Event",
                "substitutions" : {
                    "MVC\\Model\\Id" : { "instance" : "$event_id_model" }
                }
            },
            "controller" : { "instanceOf" : ["MVC\\Controller\\Id"]},
            "view" : {
                "instanceOf" : "Transphporm\\Builder",
                "constructParams" : ["Layouts/layout.xml", "{dir}/view/view_event.tss"]
            },
            "action" : "id"
        },
        "create" : {
            "model" : {
                "instanceOf" : "Events\\Model\\Form"
            },
            "controller" : { "instanceOf" : ["MVC\\Controller\\Form"]},
            "view" : {
                "instanceOf" : "Transphporm\\Builder",
                "constructParams" : ["Layouts/layout.xml", "{dir}/view/form/create.tss"]
            },
            "action" : "main"
        },
        "edit" : {
            "model" : {
                "instanceOf" : "Events\\Model\\Form"
            },
            "controller" : { "instanceOf" : ["MVC\\Controller\\Form"]},
            "view" : {
                "instanceOf" : "Transphporm\\Builder",
                "constructParams" : ["Layouts/layout.xml", "{dir}/view/form/edit.tss"]
            },
            "action" : "main"
        },
        "delete" : {
            "model" : {
                "instanceOf" : "MVC\\Model\\Form\\Delete",
                "substitutions" : {"ArrayAccess" : {"instance" : ["MaphperLoader\\Json", "getMaphper"], "params" : ["events"]}}
            },
            "controller" : { "instanceOf" : ["MVC\\Controller\\Form"]},
            "view" : {
                "instanceOf" : "Transphporm\\Builder",
                "constructParams" : ["Layouts/layout.xml", "{dir}/view/form/delete.tss"]
            },
            "action" : "main"
        }
    },
    "POST" : {
        "create" : {
            "inherit" : "GET",
            "defaultAction" : "submit"
        },
        "edit" : {
            "inherit" : "GET",
            "defaultAction" : "submit"
        },
        "delete" : {
            "inherit" : "GET",
            "defaultAction" : "submit"
        }
    }
}
